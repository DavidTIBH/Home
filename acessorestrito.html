<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mister Tech</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="whats.css">
    <link rel="stylesheet" href="footer.css" />
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" href="navbar.css" />
    <link rel="stylesheet" href="main/CFTV/CFTV.css">
    <link rel="stylesheet" href="main/SOBRE/SOBRE.css">
    <link rel="stylesheet" href="acessorestrito.css">
    <meta name="adopt-website-id" content="72f782a5-4664-404f-a9a6-dbeeab1db9e1" />
    <script src="//tag.goadopt.io/injector.js?website_code=72f782a5-4664-404f-a9a6-dbeeab1db9e1" 
    class="adopt-injector"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:ital,wght@0,300;1,300&display=swap" rel="stylesheet">
  </head>
  
  <div class="logo"></div>
  <body>
    <header>
      <nav class="navbar" id="navbar">
        <div class="text">
          <div class="mobile-menu"></div>
        </div>
        <ul class="nav-list">
          <li><a href="https://consultoriamt.com.br/" onclick="window.location.reload();">Início</a></li>
        </ul>

        <div class="navbar-access">
          <form id="form">
            <input class="form" type="text" id="access-code" placeholder="Acesso do técnico">
            <input class="login" type="submit" value="Login">
          </form>
        </div>
      </nav>
    </header>

    <main class="main">
      <ul class="menu-categorias">
        <li><a href="#" onclick="mostrarCategoria('Programa')">Programas</a></li>
        <li><a href="#" onclick="mostrarCategoria('produtos')">Produtos</a></li>
      </ul>

      <div id="categoria-Programa" class="categoria ativo">
        <div class="produto">
          <h2>Programas DRIVE</h2>
          <p class="descricao">Nesse link contém todos os programas para uso do TI</p>
          <a href="https://drive.google.com/drive/folders/1j4xWxraSya8KmtLmCnvA4SclZSvqJ09X?usp=drive_link" class="btn" target="_blank">Download</a>
        </div>
      </div>

      <div id="categoria-produtos" class="categoria">
        <!-- Produtos aqui (não alterados) -->
      </div>

      <!-- Mensagem de boas-vindas -->
      <div id="welcome-message" style="display:none; margin-top: 20px;">
        <h2>Bem-vindo, <span id="user-name-display"></span>!</h2>
      </div>
    </main>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Ao carregar a página, mostra a categoria "Programas" por padrão
        var categoriaPrograma = document.getElementById('categoria-Programa');
        categoriaPrograma.classList.add('ativo');
      });

      function mostrarCategoria(categoria) {
        // Esconde todas as categorias
        var categorias = document.querySelectorAll('.categoria');
        categorias.forEach(function(cat) {
          cat.classList.remove('ativo');
        });

        // Mostra a categoria clicada
        var categoriaSelecionada = document.getElementById('categoria-' + categoria);
        categoriaSelecionada.classList.add('ativo');
      }

      // IDs de acesso permitidos com nome associado
      var allowedIDs = {
        "MISTERTECHDAVID": "David"
      };

      document.getElementById("form").addEventListener("submit", function(event) {
        event.preventDefault(); // Impede o envio padrão do formulário
        var accessCode = document.getElementById("access-code").value; // Obtém o valor do código de acesso inserido
        
        // Verifica se o código de acesso está na lista de IDs permitidos
        if (allowedIDs.hasOwnProperty(accessCode)) {
          // Se o código estiver na lista, exibe a mensagem de boas-vindas com o nome associado
          var welcomeMessage = document.getElementById("welcome-message");
          var userNameDisplay = document.getElementById("user-name-display");
          userNameDisplay.innerText = allowedIDs[accessCode]; // Nome associado ao código de acesso
          welcomeMessage.style.display = "block"; // Exibe a mensagem de boas-vindas
          
          // Redireciona para a página restrita
          window.location.href = "acessorestrito.html";
        } else {
          // Se o código estiver errado, exibe a mensagem de erro
          var errorMessage = document.getElementById("error-message");
          var errorText = document.getElementById("error-text");
          var inputField = document.getElementById("access-code");

          errorMessage.style.display = "block";
          errorText.innerText = "Senha de acesso incorreta.";

          // Limpa o campo de entrada
          inputField.value = "";
        }
      });

      // Fecha a mensagem de erro
      document.getElementById("error-close").addEventListener("click", function() {
        document.getElementById("error-message").style.display = "none";
      });
    </script>

    <footer>
      <section class="container stretch">
        <div class="item">
          <a href="https://api.whatsapp.com/send/?phone=31984264936" target="_blank">
            <img class="imgwhats" src="/Imagens/whatsapp.png" alt="Imagem">
          </a>
        </div>

        <div class="item">
          <p>(31) 9 8426-4936</p><br>
          <a class="email" href="mailto:suporte@consultoriamt.com.br" target="_blank">suporte@consultoriamt.com.br</a>
        </div>

        <div class="item">
          <p>Rua Jacarei 1109, Pindorama,</p><br>
          <p>MG - Belo Horizonte - CEP 30.865-030</p>
        </div>
      </section>
    </footer>

    <footer>
      <div class="footer">
        ©2020 por MT - Consultoria em TI.
      </div>
    </footer>
  </body>
</html>
